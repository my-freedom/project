<!DOCTYPE html>
<html>
<head>
<meta name="data-spm" content="a2107" />
<title>计算器</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="imagetoolbar" content="no" />
<style>
*{
	padding:0;
	margin:0;
}
body{
	margin:0 auto;
}
table th{
	border:2px solid #ccc;
}
.tab{
	width:200px;
	height:300px;
	margin: 0 auto;
	text-align: center;
}
input{
	width:50px;
	height:35px;
}
.main{
	width:250px;
	height:300px;
	margin: 0 auto;
	background:#81a5b9;
	border-radius: 10px;
}
.inp{
	width:200px;
	margin: 0 auto;
}
</style>
<script>
    function Jis(){
        this.count=function(num1,num2,ope){
            switch(ope){
                case "+":
                    result=num1+num2;
                    break;
                case "-":
                    result=num1-num2;
                    break;
                case "*":
                    result=num1*num2;
                    break;
                case "/":
                    result=num1/num2;
                    break;
            }
            return result;
        }
    }
     var jis=new Jis();

    /*定义全局变量*/
    var str=0; //放置输入的值
    var numstr=0;//保存转换Number类型的值
    var n=0; //保存第一次输入的值    
    var ope;//保存输入的操作符
    var result=0;
    /*获取输入数字*/
    function cat(e){
        str=e.value;
        var numstr2=document.getElementById("screen"); 
        if(result!=0)
        {
        numstr2.value="";
        }       
        numstr2.value+=str; //连续输入数字(String类型)
        //转换Number类型
        numstr=parseFloat(numstr2.value);
        result=0;
    }
     /*输入操作符*/
    function Ope(e){
        ope=e.value;
        if (e.value=="+"){
            var numstr2=document.getElementById("screen");
            //保存上次计算结果，并对字符串进行转换Number类型
            n=parseFloat(numstr2.value);
            //第一次输入的值设置为空
            numstr2.value="";                        
        }else if(e.value=="-"){
            var numstr2=document.getElementById("screen");
            n=parseFloat(numstr2.value);
            numstr2.value="";
        }else if(e.value=="*"){
            var numstr2=document.getElementById("screen");
            n=parseFloat(numstr2.value);
            numstr2.value="";
        }else if(e.value=="/"){
            var numstr2=document.getElementById("screen");
            n=parseFloat(numstr2.value);
           numstr2.value="";
        }
    }
     function dengyu(e){

        var numstr2=document.getElementById("screen");        
        if(e.value=="="){
            numstr2.value=jis.count(n,numstr,ope);
        }
    }
      function p(e){
        var number2=document.getElementById("screen");
        if(e.value=="clear"){
            number2.value="";
        }else if(e.value=="back"){
          var length=number2.value.length;
           number2.value=number2.value.substr(0,length-1);
        }else if(e.value=="power"){
            //计算平方
            number2.value=Math.pow(number2.value,2);            
        }
    }

  </script>

</script>
</head>
<body>
<div class="main">
	<table class="tab">
	<tr>
	   <td colspan="4"><input type="text"  class="inp" id="screen" value=""></td>
	</tr>
	<tr>
	   <td><input type="button" value="power" onClick="p(this)"></td>
	   <td><input type="button" value="clear" onClick="p(this)"></td>
	   <td><input type="button" value="back" onClick="p(this)"></td>
	</tr>
	<tr>
	   <td><input type="button" value="1" onClick="cat(this)"></td>
	   <td><input type="button" value="2" onClick="cat(this)"></td>
	   <td><input type="button" value="3" onClick="cat(this)"></td>
	   <td><input type="button" value="4" onClick="cat(this)"></td>
	</tr>
	<tr>
	   <td><input type="button" value="5" onClick="cat(this)"></td>
	   <td><input type="button" value="6" onClick="cat(this)"></td>
	   <td><input type="button" value="7" onClick="cat(this)"></td>
	   <td><input type="button" value="8" onClick="cat(this)"></td>
	</tr>
	<tr>
	   <td><input type="button" value="9" onClick="cat(this)"></td>
	   <td><input type="button" value="0" onClick="cat(this)"></td>
	   <td><input type="button" value="." onClick="cat(this)"></td>
	   <td><input type="button" value="=" onClick="dengyu(this)"></td>
	</tr>
	<tr>
	   <td><input type="button" value="+" onClick="Ope(this)"></td>
	   <td><input type="button" value="-" onClick="Ope(this)"></td>
	   <td><input type="button" value="*" onClick="Ope(this)"></td>
	   <td><input type="button" value="/" onClick="Ope(this)"></td>
	</tr>
	</table>
</div>
</body>
</html>